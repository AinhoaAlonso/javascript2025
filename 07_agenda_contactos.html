<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agenda Contactos</title>
</head>
<body>
    <div>
        <h1>Agenda de Contactos</h1>
        <h3>Introduce nombre</h3>
        <input type="text" id="nombreContacto"><button onclick="guardarContacto()">Guardar</button>
        <br><br>
        <div id="resultadoGuardar"></div>
        <br>
        <button onclick="mostrarContactos()">Mostrar</button>
    </div>
    <br>
    <div id="listaNombres"></div>
    <script>
        //Impedir que los nombres se repitan
        let contactos =[];
        function guardarContacto(){
            let contacto=document.getElementById("nombreContacto").value;
            let repetido = false;
            console.log(contacto);

            if(contacto == ""){
                document.getElementById("resultadoGuardar").innerHTML = "No puedes meter un contacto vacio";
            }else{
                for(let n of contactos){
                    if(contacto == n){
                    repetido = true;
                    }
                }
                if(repetido == false){
                    contactos.push(contacto);
                    document.getElementById("resultadoGuardar").innerHTML = "Contacto guardado correctamente";
                }else{
                //alert("El contacto ya está creado");
                document.getElementById("resultadoGuardar").innerHTML = "¡El contacto ya existe!";
            }
            //limpia la caja de texto
            document.getElementById("nombreContacto").value = "";
            console.log(contactos);
            } 
            
        }
        function mostrarContactos(){
            let html = [];
            for(let i=0;i<contactos.length;i++){
                html += `<b>${contactos[i]}</b><a onclick="borrarContacto(${i});"><img src="images/papelera.png" height='20px' width='20px'></a><br>`;
            }
            document.getElementById("listaNombres").innerHTML = html;
        }
        function borrarContacto(posicionContacto){
            //Borra el contacto que este en la posicion 'posicionContacto'
            contactos.splice(posicionContacto,1);
            mostrarContactos();
        }
    </script>
</body>
</html>